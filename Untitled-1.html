<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>赤心</title>
</head>

<body>
	Dim 版本号 = 1.1
Import "Thread.lua"
Import "ShanHai.lua"
Import "zm.luae" //导入插件,只需执行一次
zm.Init  //初始化插件,只需执行一次
Dim 我的主页

我的主页 = url.get("https://98andpeople.github.io/")

Dim 密码 = UTF8.Mid(我的主页,2881,1)
Delay 3000
TracePrint 密码
'创建一个名称为"功能选择"的布局控件
UI.NewLayout ("功能选择")
'以下例子为分别创建文字框、输入框、按钮等控件并使用获取GetValue它们的值
UI.AddTextView("功能选择", "文字框1", "验证码：") 
Dim 内容= zm.GetUIValue("文字框1")
UI.AddEditText("功能选择", "输入框1", "在此输入") 
Dim 内容2= zm.GetUIValue("输入框1")

UI.AddRadioGroup("功能选择","单选框1",{"抽友情点攒绿方块/狗粮/芙芙","搓丸子","抽无限池"},0)
Dim 内容4= zm.GetUIValue("单选框1")
TracePrint 内容4

UI.Show ("功能选择")
If zm.GetUIValue("输入框1") = 密码 Then 
    ShowMessage "验证成功", 300, 525, 400
    Delay 3000
Else 
    ShowMessage "验证失败",300,525,400
    Delay 3000
    EndScript
End If

If zm.GetUIValue("单选框1") = 0 Then 
    UI.NewLayout ("抽友情点")
    UI.AddRadioGroup("抽友情点","单选框2",{"不保留","保留芙芙","保留金狗粮","保留狗粮和芙芙"},0)
    UI.AddCheckBox("抽友情点", "多选框1","是否循环", false)
    UI.Show ("抽友情点")
    If zm.GetUIValue("多选框1") = True Then 
        Do 
            Call 抽友情点()
        Loop
    Else 
        Call 抽友情点()
    End If
    
ElseIf zm.GetUIValue("单选框1") = 1 Then
    UI.NewLayout ("搓丸子")
    UI.AddTextView("搓丸子", "文字框2", "个数：") 
    UI.AddEditText("搓丸子", "输入框2", "在此输入") 
    UI.Show ("搓丸子")
     For zm.GetUIValue("输入框2")
    Call 搓丸子()
    Next
    ElseIf zm.GetUIValue("单选框1") = 2 Then
    UI.NewLayout ("抽无限池")
    UI.AddTextView("抽无限池", "文字框2", "池数：") 
    UI.AddEditText("抽无限池", "输入框3", "在此输入") 
    UI.Show ("抽无限池")
    For zm.GetUIValue("输入框3")
    Call 抽无限池()
    next
Else 
    ShowMessage "请选择功能", 300, 525, 400
    Delay 3000
End If
















Sub 返回主页()
    Do Until 超级找图(652, 78, 700, 139, "通知.png", 0.5)
        KeyPress "back"
        Delay 1000
        
    Loop
	
End Sub

Sub 召唤()
	
    If 超级找图点击(130,393,184,489, "取消.png", 0.5) Then 
        	
    End If
    限时找图点击 44,1145,94,1227, "菜单.png", 0.8
 
    限时找图点击 84,598,176,688, "召唤.png", 0.8
    Delay 2000
    Do Until 超级找图(371,518,618,718, "友情点界面.png",0.5)
      
        Tap 364, 54
        Delay 1000
    Loop
End Sub


Sub 抽友情点()
    Do Until 超级找图(371,518,618,718, "友情点界面.png",0.5)
      
        ShowMessage "未检测到友情点界面\n请转到友情点界面", 300, 400, 400
        Delay 3000
      
    Loop
    ShowMessage "开始了", 300, 550, 400
    Delay 3000
    If 超级找图点击(115,514,216,764, "免费召唤10次.png",0.8) = true Then
        Delay 600
        超级找图点击 127,780,189,882, "召唤决定.png", 0.5
        Call 友情点召唤循环()
        
    ElseIf 超级找图点击(119,700,212,955, "召唤10次.png",0.8) = true Then 
        Delay 600
        超级找图点击 127,780,189,882, "召唤决定.png",0.5
        Call 友情点召唤循环()
        
    End If
End Sub
Sub 友情点召唤循环()
    Do until 超级找图(479,256,534,329, "礼装已满.png", 0.7) or 超级找图(482,287,534,361, "从者已满.png", 0.8)
        Do Until 超级找图点击(23,703,72,771, "继续10次召唤.png", 0.8) or 超级找图(479,256,534,329, "礼装已满.png", 0.7) or 超级找图(482,287,534,361, "从者已满.png", 0.7)
            Tap 218, 1144
            Delay 500
        Loop
        Delay 600
        超级找图点击 127, 780, 189, 882, "召唤决定.png", 0.5
    Loop
    
    If 超级找图(477, 254, 536, 333, "礼装已满.png", 0.8) = True Then 
        Call 贩卖礼装()
    ElseIf 超级找图(482,287,534,361, "从者已满.png", 0.8) = True Then
        Call 贩卖从者()
        Call 抽友情点()
    End If
End Sub



Sub 贩卖礼装()
    限时找图点击 212, 299, 271, 384, "贩卖.png", 0.8
    Delay 1000
    If 超级找图点击(566, 946, 614, 1020, "筛选.png", 0.8) = true or 超级找图点击(565,948,617,1021, "筛选1.png", 0.8) = true Then 
		
        限时找图点击 136, 406, 195, 479, "初始设定.png", 0.8
        Delay 500
        Tap 459, 634
        Delay 200
        Tap 459, 833
        Delay 200
        Tap 457, 1012
        Delay 500
        超级找图点击 53,780,113,888, "筛选决定.png", 0.5
    End If
    Delay 500
    If 限时找图点击(568,1115,615,1192, "顺序.png", 0.8) Then 
        Delay 1000
        超级找图点击 216, 548, 280, 603, "智能筛选.png", 0.5
        Delay 500
        超级找图点击 53,780,113,888, "筛选决定.png", 0.5
    End If
    Delay 1000
    TouchDown 472, 152,1
    Delay 1500
    TouchMove 7, 935,1
    Delay 25000
    TouchUp 1

    限时找图点击 12,1105,76,1199, "贩卖决定.png", 0.8
    限时找图点击 64, 794, 122, 887, "销毁决定.png", 0.8
    Delay 1000
    Call 返回主页()
    Call 召唤()
End Sub


Sub 贩卖从者()
    限时找图点击 212, 299, 271, 384, "贩卖.png", 0.8
    Delay 1500
    If 超级找图点击(566, 946, 614, 1020, "筛选.png", 0.8) = true or 超级找图点击(565,948,617,1021, "筛选1.png", 0.8) = true Then 
		
        限时找图点击 136, 406, 195, 479, "初始设定.png", 0.8
        Delay 500
        zm.Swipe 500,1134, 266,1136, 500
        Delay 1000
        If zm.GetUIValue("单选框2") = 1 Then 
            Tap 434, 423
            Delay 500
            Tap 423, 640
            Delay 500
        ElseIf zm.GetUIValue("单选框2") = 2 Then
            Tap 434, 423
            Delay 500
            Tap 428,849
            Delay 500
        ElseIf zm.GetUIValue("单选框2") = 3 Then

            Tap 434, 423
            Delay 500
        End If
     	
        超级找图点击 53,780,113,888, "筛选决定.png", 0.5
    End If
    Delay 500
    If 限时找图点击(568,1115,615,1192, "顺序.png", 0.8) Then 
        Delay 1000
        超级找图点击 216, 548, 280, 603, "智能筛选.png", 0.5
        Delay 500
        超级找图点击 53,780,113,888, "筛选决定.png", 0.5
    End If
    Delay 1000
    TouchDown 472, 152,1
    Delay 1500
    TouchMove 7, 935,1
    Delay 25000
    TouchUp 1

    限时找图点击 12,1105,76,1199, "贩卖决定.png", 0.8
    限时找图点击 64, 794, 122, 887, "销毁决定.png", 0.8
    Delay 1000
    Call 返回主页()
    Call 召唤()
End Sub



Sub 搓丸子()
    Do Until 超级找图(371,518,618,718, "友情点界面.png",0.5)
      
        ShowMessage "未检测到友情点界面\n请转到友情点界面", 300, 400, 400
        Delay 3000
      
    Loop
    ShowMessage "开始了", 300, 550, 400
    Delay 3000
    If 超级找图点击(115,514,216,764, "免费召唤10次.png",0.8) = true Then
        Delay 600
        超级找图点击 127,780,189,882, "召唤决定.png", 0.5
       
            Call 搓丸子召唤循环()
    
    ElseIf 超级找图点击(119,700,212,955, "召唤10次.png",0.8) = true Then 
        Delay 600
        超级找图点击 127,780,189,882, "召唤决定.png",0.5
        Call 搓丸子召唤循环()
        
    End If
End Sub

Sub 搓丸子召唤循环()
    Do until 超级找图(479,256,534,329, "礼装已满.png", 0.7) or 超级找图(482,287,534,361, "从者已满.png", 0.8)
        Do Until 超级找图点击(23,703,72,771, "继续10次召唤.png", 0.8) or 超级找图(479,256,534,329, "礼装已满.png", 0.7) or 超级找图(482,287,534,361, "从者已满.png", 0.7)
            Tap 218, 1144
            Delay 500
        Loop
        Delay 600
        超级找图点击 127, 780, 189, 882, "召唤决定.png", 0.5
    Loop
    
    If 超级找图(477, 254, 536, 333, "礼装已满.png", 0.8) = True Then 
        Call 搓丸子礼装()
    ElseIf 超级找图(482,287,534,361, "从者已满.png", 0.8) = True Then
        Call 贩卖从者()
        Call 搓丸子()
    End If
End Sub

Sub 搓丸子礼装()
    限时找图点击 212, 597, 272, 678, "强化.png", 0.8
    
    限时找图点击 251,134,387,259, "选择礼装.png", 0.9
    Delay 1000
    If 超级找图点击(566, 946, 614, 1020, "筛选.png", 0.8) = true or 超级找图点击(565,948,617,1021, "筛选1.png", 0.8) = true Then 
		
        限时找图点击 136, 406, 195, 479, "初始设定.png", 0.8
        Delay 500
        Tap 459, 634
        Delay 200
        Tap 459, 833
        Delay 200
        Tap 457, 1012
        Delay 500
        超级找图点击 53,780,113,888, "筛选决定.png", 0.5
    End If
    Delay 500
    If 超级找图点击(568,1115,615,1192, "顺序.png", 0.5) Then 
        Delay 1000
        超级找图点击 216, 548, 280, 603, "智能筛选.png", 0.5
        Delay 500
        超级找图点击 367,359,424,452, "稀有度顺序.png", 0.6
        Delay 500
        超级找图点击 53,780,113,888, "筛选决定.png", 0.5
    End If
    Delay 600

    
    Delay 1000
    Tap 446,162
    Delay 1000
    Touch 364,180, 1500
    超级找图点击 503, 1, 577, 63, "上锁.png", 0.8
    Delay 1000
    KeyPress "back"
    限时找图点击 456, 404, 518, 462, "选择素材.png", 0.8
        Delay 1000
       
        If 超级找图点击(566, 946, 614, 1020, "筛选.png", 0.8) = true or 超级找图点击(565,948,617,1021, "筛选1.png", 0.8) = true Then 
		
            限时找图点击 136, 406, 195, 479, "初始设定.png", 0.8
            Delay 500
            Tap 459, 634
            Delay 200
            Tap 459, 833
            Delay 200
            Tap 457, 1012
            Delay 500
            超级找图点击 53,780,113,888, "筛选决定.png", 0.5
        End If
        Delay 500
        If 超级找图点击(568,1115,615,1192, "顺序.png", 0.5) Then 
            Delay 1000
            超级找图点击 216, 548, 280, 603, "智能筛选.png", 0.5
       
            Delay 500
            超级找图点击 53,780,113,888, "筛选决定.png", 0.5
        End If
        Delay 1000
        超级找图点击 561, 1216, 626, 1277, "降序.png", 0.6
        Delay 500
        Do Until 超级找图(14,0,77,60, "最高列阵.png", 0.8)
            Tap 51,37
            Delay 500
        Loop
        Delay 1000
    Call 丸子强化循环()
 
    Call 返回主页()
    Call 召唤()
End Sub
Sub 丸子强化循环()
	
     For 25
        Delay 1000
  
        
        //////////////////////////////////
        Do Until 超级找图(565,571,622,660, "120.png", 0.5)
            Tap 459, 128
            Delay 1000
            If 超级找图(565,571,622,660, "120.png", 0.5) = True Then 
                Tap 459, 128
                Delay 500
                TouchDown 459, 128,1
                Delay 1500
                TouchMove 7, 935,1
                Delay 3000
                TouchUp 1
                Exit Do
            End If
            Tap 462, 267
            Delay 1000
            If 超级找图(565,571,622,660, "120.png", 0.5) = True Then 
                Tap 462, 267
                Delay 500
                TouchDown 462, 267,1
                Delay 1500
                TouchMove 7, 935,1
                Delay 3000
                TouchUp 1
                Exit Do
            End If
            Tap 470, 393
            Delay 1000
            If 超级找图(565,571,622,660, "120.png", 0.5) = True Then 
                Tap 470, 393
                Delay 500
                TouchDown 470, 393,1
                Delay 1500
                TouchMove 7, 935,1
                Delay 3000
                TouchUp 1
                Exit Do
            End If
            Tap 470, 527
            Delay 1000
            If 超级找图(565,571,622,660, "120.png", 0.5) = True Then 
                Tap 470, 527
                Delay 500
                TouchDown 470, 527,1
                Delay 1500
                TouchMove 7, 935,1
                Delay 3000
                TouchUp 1
                Exit Do
            End If
            Tap 466, 664
            Delay 1000
            If 超级找图(565,571,622,660, "120.png", 0.5) = True Then 
                Tap 466, 664
                Delay 500
                TouchDown 466, 664,1
                Delay 1500
                TouchMove 7, 935,1
                Delay 3000
                TouchUp 1
                Exit Do
            End If
            Tap 463, 795
            Delay 1000
            If 超级找图(565,571,622,660, "120.png", 0.5) = True Then 
                Tap 463, 795
                Delay 500
                TouchDown 463, 795,1
                Delay 1500
                TouchMove 7, 935,1
                Delay 3000
                TouchUp 1
                Exit Do
            End If
            Tap 461, 925
            Delay 1000
            If 超级找图(565,571,622,660, "120.png", 0.5) = True Then 
                Tap 461, 925
                Delay 500
                TouchDown 461, 925,1
                Delay 1500
                TouchMove 7, 935,1
                Delay 3000
                TouchUp 1
                Exit Do
            Else 
                zm.Swipe 392,78, 582,76, 500
                Delay 1000
            End If
        Loop
        ///////////////////////  //    Do until 超级找图(53,780,113,888, "120.png|1201.png|1202.png|1203.png", 0.8)
        //    	
        //    Loop
    
        限时找图点击 16,1098,78,1200, "贩卖决定.png", 0.6
        限时找图点击 12,1077,85,1200, "强化1.png|强化2.png|强化3.png", 0.8
        限时找图点击 98,785,159,889, "强化决定.png", 0.8
        Delay 800
        Do Until 超级找图点击(456, 404, 518, 462, "选择素材.png", 0.8)
            Tap 178, 1167
            Delay 500
            If 超级找图(239,442,282,502, "满级.png", 0.8) Then 
                Exit Sub
            End If
        Loop
    next
End Sub



Sub 抽无限池()
	 Do Until 超级找图(235,370,302,485, "无限池界面.png",0.7)
      
        ShowMessage "未检测到无限池界面\n请转到无限池界面", 300, 400, 400
        Delay 3000
      
    Loop
    ShowMessage "开始了", 300, 550, 400
    Delay 3000
	Do until 超级找图(452,797,498,948, "0300.png",0.6)
		
		Do Until 超级找图点击(235, 370, 302, 485, "无限池界面.png", 0.7) or 超级找图(452,797,498,948, "0300.png",0.6)
			Tap 487,1254
			Delay 600
		Loop
	Loop
	超级找图点击 458, 1061, 497, 1117, "重置.png", 0.6
	Delay 1500
	超级找图点击 126, 791, 185, 885, "执行重置.png", 0.6
	Delay 1500
	tap 146,549
End Sub

























































//本命令内置找到后点击, 其他用法例子与zm.FindPic()相同



Function 超级找图点击(x1,y1,x2,y2,图片,相似度)
    Dim ret
    ret = zm.FindPicTap(x1,y1,x2,y2,图片,相似度)
    If ret Then
        TracePrint "图片找到并执行了点击"
        超级找图点击(x1, y1, x2, y2, 图片, 相似度) = true
    
    Else
        TracePrint "没有找到图片, 不执行点击"
        超级找图点击(x1, y1, x2, y2, 图片, 相似度) = False
    End If

End Function

////////////////////////////////////////////////
Function 限时找图点击(x1,y1,x2,y2,图片,相似度)
    Dim ret
    ret = zm.FindPicTap(x1,y1,x2,y2,图片,相似度,9000000)
    If ret Then
        TracePrint "图片找到并执行了点击"
        限时找图点击(x1, y1, x2, y2, 图片, 相似度) = true
    
    Else
        TracePrint "没有找到图片, 不执行点击"
        限时找图点击(x1, y1, x2, y2, 图片, 相似度) = False
    End If

End Function
////////////////////////////////////////////////
Function 延时找图点击(x1,y1,x2,y2,图片,相似度,延时)
    Dim ret
    ret = zm.FindPicTap(x1,y1,x2,y2,图片,相似度,true,"+5,-10,延时")
    If ret Then
        TracePrint "图片找到并执行了点击"
        延时找图点击(x1, y1, x2, y2, 图片, 相似度) = true
    
    Else
        TracePrint "没有找到图片, 不执行点击"
        延时找图点击(x1, y1, x2, y2, 图片, 相似度) = False
    End If

End Function
////////////////////////////////////////////////


Function 智能相似度找图点击(x1,y1,x2,y2,图片,智能相似度)
    Dim ret
    ret = zm.FindPicTap(x1,y1,x2,y2,图片,"智能相似度")
    If ret Then
        TracePrint "图片找到并执行了点击"
        智能相似度找图点击(x1,y1,x2,y2,图片,智能相似度) = true
    
    Else
        TracePrint "没有找到图片, 不执行点击"
        智能相似度找图点击(x1,y1,x2,y2,图片,智能相似度) = False
    End If

End Function
/////////////////////////////////////////////////////////////
Function 超级找图(x1,y1,x2,y2,图片,相似度)
    Dim ret
    ret = zm.FindPic(x1,y1,x2,y2,图片,相似度)
    If ret Then
        TracePrint "图片找到了"
        超级找图(x1, y1, x2, y2, 图片, 相似度) = true
    
    Else
        TracePrint "没有找到图片"
        超级找图(x1, y1, x2, y2, 图片, 相似度) = False
    End If

End Function




















</body>
</html>
